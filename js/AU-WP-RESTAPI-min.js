!function(d){"use strict";var s="AUhubPosts",a={type:"posts",categoryID:null,postIDs:null,tagID:null,numberofPosts:"6",layout:"box"};function t(e,t){this.element=e,this.settings=d.extend({},a,t),this._defaults=a,this._name=s,this.init()}d.extend(t.prototype,{init:function(){this.getPosts()},getPosts:function(){var l=this.element,e=this.settings.categoryID?"&categories="+this.settings.categoryID:"",t=this.settings.tagID?"&tags="+this.settings.tagID:"";"box"===this.settings.layout?d(l).addClass("box"):d(l).addClass("list"),s=this.settings.postIDs?this.settings.postIDs.map(function(e,t){return"&include[]="+e}).join().replace(/,/g,""):"";var s="https://www.athabascau.ca/news/wp-json/wp/v2/"+this.settings.type+"?_embed&per_page="+this.settings.numberofPosts+e+t+s;"posts"===this.settings.type?d.ajax({type:"GET",url:s,success:function(e){d(l).empty();var r=0;d.each(e,function(e,t){var s=new Date(t.date),a=new Date(s),i=a.getDate(),s=new Array;s[0]="January",s[1]="February",s[2]="March",s[3]="April",s[4]="May",s[5]="June",s[6]="July",s[7]="August",s[8]="September",s[9]="October",s[10]="November",s[11]="December";var n,s=s[a.getMonth()],a=a.getFullYear();d(l).hide().append('<div class=col-sm-4><a href="'+t.link+'" target="_blank"><article class="wp-article"><div class="wp-image-wrap">'+(n=t._embedded["wp:featuredmedia"][0],t.jetpack_featured_media_url,n.media_details?n.media_details.sizes.large?'<div class="post-img" style="background-image: url('+n.media_details.sizes.large.source_url+')"></div>':'<div class="post-img" style="background-image: url('+n.media_details.sizes.medium.source_url+')"></div>':'<div class="post-img" style="background-image: url(https://www.athabascau.ca/news/wp-content/uploads/2018/09/Copy-of-Webinar-Twitter-Event-2.png)"></div>')+'</div><div class="article-content"><h4 class="entry-title">'+t.title.rendered+'</h4><time class="entry-date published" datetime="'+s+" "+i+", "+a+'">'+s+" "+i+", "+a+"</time></div></article></a><div>").fadeIn("slow"),r++}),0==r&&d(l).html('<div class="text-center" style="width:100%;"><h3>There are no news posts currently available.</h3></div>'),d(".loader").hide()},fail:function(){console.log("something went wrong")}}):(t="https://www.athabascau.ca/news/wp-json/wp/v2/events?_embed&per_page="+this.settings.numberofPosts+t+"&filter[orderby]=meta_value&filter[meta_key]=event_start_date_time&filter[order]=ASC",d.ajax({type:"GET",url:t,success:function(e){d(l).empty();var n=0;d.each(e,function(e,t){var s=new Date(t.date),a=new Date(s),s=(a.getDate(),new Array);s[0]="January",s[1]="February",s[2]="March",s[3]="April",s[4]="May",s[5]="June",s[6]="July",s[7]="August",s[8]="September",s[9]="October",s[10]="November",s[11]="December";var i;s[a.getMonth()],a.getFullYear();d(l).hide().append('<div class="col-sm-4"><a href="'+t.link+'" target="_blank"><article class="wp-article">'+(i=t._embedded["wp:featuredmedia"][0],t.jetpack_featured_media_url,i.media_details?i.media_details.sizes.large?'<div class="post-img" style="background-image: url('+i.media_details.sizes.large.source_url+')"></div>':'<div class="post-img" style="background-image: url('+i.media_details.sizes.medium.source_url+')"></div>':'<div class="post-img" style="background-image: url(https://www.athabascau.ca/news/wp-content/uploads/2018/09/Copy-of-Webinar-Twitter-Event-2.png)"></div>')+'<div class="article-content"><h4 class="entry-title">'+t.title.rendered+'</h4><div class="wp-event-date"><strong>Event Date: </strong>'+t.acf.event_start_date_time+" - "+t.acf.event_end_date_time+'</div><div class="wp-event-location">'+(t.acf.address?"<strong>Location:</strong> "+t.acf.address:"")+"</div></div></article></a></div>").fadeIn("slow"),n++}),d(".loader").hide(),0==n&&d(l).html('<div class="text-center" style="width:100%;"><h3>There are no events currently available.</h3></div>')},fail:function(){console.log("something went wrong")}}))}}),d.fn[s]=function(e){return this.each(function(){d.data(this,"plugin_"+s)||d.data(this,"plugin_"+s,new t(this,e))})}}(jQuery,(window,document));